<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">    </script>
</head>
 <body>
	<Center>
		<h1>Pet Owners List</h1>
	</Center>
	<div>
		<center>
			<div class="owners"></div>
		</center>
	</div>
</body>
<script>
$(document).ready(function() {
	function tableCreate(el, data) {
		var tbl = document.createElement("table");
		tbl.border = 1;
		tbl.style.width = "100%";
		var tr1 = tbl.insertRow();
		tr1.bgColor = "orange";
		tr1.insertCell().appendChild(document.createTextNode("Owner Id"));
		tr1.insertCell().appendChild(document.createTextNode("Name"));
		tr1.insertCell().appendChild(document.createTextNode("Gender"));
		tr1.insertCell().appendChild(document.createTextNode("City"));
		tr1.insertCell().appendChild(document.createTextNode("State"));
		for (var i = 0; i < data.length; ++i) {
			var tr = tbl.insertRow();
			for (var j = 0; j < data[i].length; ++j) {
				var td = tr.insertCell();
				td.appendChild(document.createTextNode(data[i][j].toString()));
			}
		}
		$('table').attr('border', '1');
		$('.owners').append(tbl);
	}
	$.ajax({
		url : "http://localhost:8080/owners"
	}).then(function(data, status, jqxhr) {
		let rows = [];
		for (var i = 0; i < data.length; ++i) {
			let cells = [];
			cells.push(data[i].id);
			cells.push(data[i].firstName + " " + data[i].lastName);
			cells.push(data[i].gender);
			cells.push(data[i].city);
			cells.push(data[i].state);
			rows.push(cells);
		}
		tableCreate($("#owners"), rows);
		console.log("There are " + data.length + " pet owners.");
	});
});
</script>
</html>